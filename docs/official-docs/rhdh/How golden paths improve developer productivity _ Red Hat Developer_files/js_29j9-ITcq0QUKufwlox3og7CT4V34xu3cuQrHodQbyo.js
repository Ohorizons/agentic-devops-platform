/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5.rhalert=e());}(self,(()=>(()=>{var t={"ckeditor5/src/core.js":(t,e,r)=>{t.exports=r("dll-reference CKEditor5.dll")("./src/core.js");},"ckeditor5/src/ui.js":(t,e,r)=>{t.exports=r("dll-reference CKEditor5.dll")("./src/ui.js");},"ckeditor5/src/widget.js":(t,e,r)=>{t.exports=r("dll-reference CKEditor5.dll")("./src/widget.js");},"dll-reference CKEditor5.dll":(t)=>{"use strict";t.exports=CKEditor5.dll;}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports;}r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]});},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};return (()=>{"use strict";r.d(i,{default:()=>d});var t=r("ckeditor5/src/core.js"),e=r("ckeditor5/src/widget.js");class n extends t.Command{execute(t={}){const {model:e}=this.editor;void 0!==t.title||void 0!==t.description?e.change(((r)=>{e.insertContent(function(t,e={}){const r=""===e.state?"":e.state||"",i=t.createElement("rhAlert",{state:r}),n=t.createElement("rhAlertTitle"),s=t.createElement("rhAlertDescription");t.append(n,i),t.append(s,i);const l=e.title||"Alert Title",o=e.description||"";if(t.insertText(l,n),o){const e=t.createElement("paragraph");t.insertText(o,e),t.append(e,s);}else t.appendElement("paragraph",s);if(e.confirmButtonText){const r=t.createElement("rhAlertConfirmButton");t.insertText(e.confirmButtonText,r),t.append(r,i);}if(e.dismissButtonText){const r=t.createElement("rhAlertDismissButton");t.insertText(e.dismissButtonText,r),t.append(r,i);}return i;}(r,t));})):this.editor.fire("showRhAlertModal");}refresh(){const {model:t}=this.editor,{selection:e}=t.document,r=t.schema.findAllowedParent(e.getFirstPosition(),"rhAlert");this.isEnabled=null!==r;}}class s extends t.Command{constructor(t){super(t);}execute(t){const {model:e}=this.editor,r=e.document.selection,i=t||this._getSelectedRhAlert(r);if(!i)return;const n=i.getAttribute("state")||"",s=i.getChild(0),l=i.getChild(1),o=s?this._getTextContent(s):"",a=l?this._getTextContent(l):"";let c="",d="";for(const t of i.getChildren())"rhAlertConfirmButton"===t.name?c=this._getTextContent(t):"rhAlertDismissButton"===t.name&&(d=this._getTextContent(t));this.editor.fire("showRhAlertEditModal",{mode:"edit",alertElement:i,currentValues:{title:o,description:a,state:n,confirmButtonText:c,dismissButtonText:d}});}refresh(){const {model:t}=this.editor,{selection:e}=t.document,r=this._getSelectedRhAlert(e);this.isEnabled=!!r;}_getSelectedRhAlert(t){const e=t.getSelectedElement();if(e?.is("element","rhAlert"))return e;return t.getFirstPosition().findAncestor("rhAlert");}_getTextContent(t){let e="";for(const r of t.getChildren())r.is("$text")?e+=r.data:r.is("element")&&(e+=this._getTextContent(r));return e;}}class l extends t.Plugin{static get requires(){return [e.Widget];}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertRhAlert",new n(this.editor)),this.editor.commands.add("editRhAlert",new s(this.editor));}_defineSchema(){const t=this.editor.model.schema;t.register("rhAlert",{isObject:!0,allowWhere:"$block",allowAttributes:["state"]}),t.register("rhAlertTitle",{isLimit:!0,allowIn:"rhAlert",allowContentOf:"$block",allowAttributesOf:["$text"]}),t.register("rhAlertDescription",{isLimit:!0,allowIn:"rhAlert",allowContentOf:"$root"}),t.register("rhAlertConfirmButton",{isLimit:!0,allowIn:"rhAlert",allowContentOf:"$block"}),t.register("rhAlertDismissButton",{isLimit:!0,allowIn:"rhAlert",allowContentOf:"$block"}),t.addChildCheck(((t,e)=>{if(t.endsWith("rhAlertDescription")&&"rhAlert"===e.name)return !1;}));}_defineConverters(){const {conversion:t}=this.editor;t.for("upcast").elementToElement({model:(t,{writer:e})=>{const r=t.getAttribute("state"),i=null!=r?r:"";return e.createElement("rhAlert",{state:i});},view:{name:"rh-alert"}}),t.for("upcast").elementToElement({model:"rhAlertTitle",view:{name:"h3",attributes:{slot:"header"}}}),t.for("upcast").elementToElement({model:"rhAlertDescription",view:{name:"span",classes:"rhalert-content"}}),t.for("upcast").elementToElement({model:(t,{writer:e})=>{let r=t.parent;for(;r;){if("rh-alert"===r.name)return e.createElement("rhAlertConfirmButton");r=r.parent;}return null;},view:{name:"rh-button",attributes:{"data-action":"confirm"}},converterPriority:"high"}),t.for("upcast").elementToElement({model:(t,{writer:e})=>{let r=t.parent;for(;r;){if("rh-alert"===r.name)return e.createElement("rhAlertDismissButton");r=r.parent;}return null;},view:{name:"rh-button",attributes:{"data-action":"dismiss"}},converterPriority:"high"}),t.for("dataDowncast").elementToElement({model:"rhAlert",view:(t,{writer:e})=>{const r=t.getAttribute("state"),i=null!=r?r:"";return e.createContainerElement("rh-alert",{state:i});}}),t.for("dataDowncast").elementToElement({model:"rhAlertTitle",view:{name:"h3",attributes:{slot:"header"}}}),t.for("dataDowncast").elementToElement({model:"rhAlertDescription",view:{name:"span",classes:"rhalert-content"}}),t.for("dataDowncast").add(((t)=>{t.on("insert:rhAlertConfirmButton",((t,e,r)=>{const i=e.item,n=r.writer.createContainerElement("rh-button",{variant:"secondary",slot:"actions","data-action":"confirm"});if(!r.consumable.consume(i,"insert"))return;const s=r.mapper.toViewPosition(e.range.start);r.mapper.bindElements(i,n),r.writer.insert(s,n),r.convertChildren(i,n);}),{priority:"highest"});})),t.for("dataDowncast").add(((t)=>{t.on("insert:rhAlertDismissButton",((t,e,r)=>{const i=e.item,n=r.writer.createContainerElement("rh-button",{variant:"link",slot:"actions","data-action":"dismiss"});if(!r.consumable.consume(i,"insert"))return;const s=r.mapper.toViewPosition(e.range.start);r.mapper.bindElements(i,n),r.writer.insert(s,n),r.convertChildren(i,n);}),{priority:"highest"});})),t.for("editingDowncast").elementToElement({model:"rhAlert",view:(t,{writer:r})=>{const i=t.getAttribute("state")||"",n=r.createContainerElement("div",{class:"rhalert rhalert-"+(i||"neutral"),"data-state":i}),s=this.editor,l=r.createUIElement("button",{class:"rhalert-edit-btn","data-cke-tooltip-text":"Edit Alert","data-cke-tooltip-position":"sw",title:"Edit Alert"},(function(e){const r=this.toDomElement(e);return r.innerHTML="âœŽ",r.setAttribute("type","button"),r.addEventListener("click",((e)=>{e.preventDefault(),e.stopPropagation(),s.execute("editRhAlert",t);})),r;}));return r.insert(r.createPositionAt(n,0),l),(0,e.toWidget)(n,r,{label:"RH Alert widget"});}}),t.for("editingDowncast").elementToElement({model:"rhAlertTitle",view:(t,{writer:r})=>{const i=r.createEditableElement("h3",{class:"rhalert-title"});return (0,e.toWidgetEditable)(i,r);}}),t.for("editingDowncast").elementToElement({model:"rhAlertDescription",view:(t,{writer:r})=>{const i=r.createEditableElement("div",{class:"rhalert-description"});return (0,e.toWidgetEditable)(i,r);}}),t.for("editingDowncast").elementToElement({model:"rhAlertConfirmButton",view:(t,{writer:r})=>{const i=r.createEditableElement("div",{class:"rhalert-button rhalert-button-primary"});return (0,e.toWidgetEditable)(i,r);},converterPriority:"high"}),t.for("editingDowncast").elementToElement({model:"rhAlertDismissButton",view:(t,{writer:r})=>{const i=r.createEditableElement("div",{class:"rhalert-button rhalert-button-secondary"});return (0,e.toWidgetEditable)(i,r);},converterPriority:"high"}),t.for("editingDowncast").add(((t)=>{t.on("attribute:state:rhAlert",((t,e,r)=>{const i=r.mapper.toViewElement(e.item),n=r.writer;if(i){n.removeClass(["rhalert-neutral","rhalert-info","rhalert-warning","rhalert-caution","rhalert-danger","rhalert-success"],i);const t=e.attributeNewValue||"",r=t?`rhalert-${t}`:"rhalert-neutral";n.addClass(r,i),n.setAttribute("data-state",t,i);}}));}));}}var o=r("ckeditor5/src/ui.js");class a extends t.Plugin{static get requires(){return [o.ContextualBalloon];}init(){const t=this.editor;this._isModalVisible=!1,this._createModalForm(),this._createInsertButton(),this.listenTo(t,"showRhAlertModal",(()=>{this._showModal();})),this.listenTo(t,"showRhAlertEditModal",((t,e)=>{this._showModal(e);}));}_createModalForm(){const t=this.editor,e=t.t;this.formView=new o.View(t.locale),this.formView.setTemplate({tag:"form",attributes:{class:["ck","ck-rhalert-form"],tabindex:"-1"},children:[{tag:"div",attributes:{class:["ck","ck-form__header"]},children:[{tag:"h3",attributes:{class:["ck","ck-form__header__label"]},children:[e("Insert Alert")]}]},{tag:"div",attributes:{class:["ck","ck-form__row"]},children:[{tag:"label",attributes:{class:["ck","ck-labeled-field-view__label"],for:"alert-title"},children:[e("Alert Title")]},{tag:"input",attributes:{type:"text",class:["ck","ck-input-text"],id:"alert-title",placeholder:e("Enter alert title")}}]},{tag:"div",attributes:{class:["ck","ck-form__row"]},children:[{tag:"label",attributes:{class:["ck","ck-labeled-field-view__label"],for:"alert-state"},children:[e("Alert Type")]},{tag:"select",attributes:{class:["ck","ck-input-select"],id:"alert-state"},children:[{tag:"option",attributes:{value:"",selected:"selected"},children:[e("Select an alert type")]},{tag:"option",attributes:{value:"neutral"},children:[e("Neutral")]},{tag:"option",attributes:{value:"info"},children:[e("Info")]},{tag:"option",attributes:{value:"warning"},children:[e("Warning")]},{tag:"option",attributes:{value:"caution"},children:[e("Caution")]},{tag:"option",attributes:{value:"danger"},children:[e("Danger")]},{tag:"option",attributes:{value:"success"},children:[e("Success")]}]}]},{tag:"div",attributes:{class:["ck","ck-form__row"]},children:[{tag:"label",attributes:{class:["ck","ck-labeled-field-view__label"],for:"alert-description"},children:[e("Alert Description")]},{tag:"textarea",attributes:{class:["ck","ck-input-text"],id:"alert-description",rows:3,placeholder:e("Enter alert description")}}]},{tag:"div",attributes:{class:["ck","ck-form__row"]},children:[{tag:"label",attributes:{class:["ck","ck-labeled-field-view__label"],for:"alert-confirm-button-text"},children:[e("Confirm Button Text")]},{tag:"input",attributes:{type:"text",class:["ck","ck-input-text"],id:"alert-confirm-button-text",placeholder:e("Enter confirm button text, to render a confirm button")}}]},{tag:"div",attributes:{class:["ck","ck-form__row"]},children:[{tag:"label",attributes:{class:["ck","ck-labeled-field-view__label"],for:"alert-dismiss-button-text"},children:[e("Dismiss Button Text")]},{tag:"input",attributes:{type:"text",class:["ck","ck-input-text"],id:"alert-dismiss-button-text",placeholder:e("Enter dismiss button text, to render a dismiss button")}}]},{tag:"div",attributes:{class:["ck","ck-form__help"]},children:[{tag:"p",attributes:{class:["ck","ck-form__help-text"]},children:[e("If no button text is provided the alert will not display any button actions.")]}]},{tag:"div",attributes:{class:["ck","ck-form__actions"]},children:[{tag:"button",attributes:{type:"button",class:["ck","ck-button","ck-button-action"],id:"insert-alert-btn"},children:[e("Insert Alert")]},{tag:"button",attributes:{type:"button",class:["ck","ck-button"],id:"cancel-alert-btn"},children:[e("Cancel")]}]}]}),this.formView.on("render",(()=>{const e=this.formView.element.querySelector("#insert-alert-btn"),r=this.formView.element.querySelector("#cancel-alert-btn"),i=this.formView.element.querySelector("#alert-state");i&&""===i.value&&(i.selectedIndex=0),e&&e.addEventListener("click",(()=>{const e={title:this._getFieldValue("#alert-title"),description:this._getFieldValue("#alert-description"),state:this._getFieldValue("#alert-state"),confirmButtonText:this._getFieldValue("#alert-confirm-button-text"),dismissButtonText:this._getFieldValue("#alert-dismiss-button-text")};"edit"===this._currentMode&&this._currentAlertElement?this._updateAlert(this._currentAlertElement,e):t.execute("insertRhAlert",e),this._hideModal();})),r&&r.addEventListener("click",(()=>{this._hideModal();})),this.formView.element.addEventListener("keydown",((t)=>{"Escape"===t.key&&this._hideModal();})),this.formView.element.addEventListener("submit",((e)=>{e.preventDefault();const r={title:this._getFieldValue("#alert-title"),description:this._getFieldValue("#alert-description"),state:this._getFieldValue("#alert-state"),confirmButtonText:this._getFieldValue("#alert-confirm-button-text"),dismissButtonText:this._getFieldValue("#alert-dismiss-button-text")};"edit"===this._currentMode&&this._currentAlertElement?this._updateAlert(this._currentAlertElement,r):t.execute("insertRhAlert",r),this._hideModal();}));}));}_createInsertButton(){const t=this.editor;t.ui.componentFactory.add("rhAlert",((e)=>{const r=t.commands.get("insertRhAlert"),i=new o.ButtonView(e);return i.set({label:t.t("RH Alert"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n  <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>\n  <line x1="12" y1="9" x2="12" y2="13"/>\n  <line x1="12" y1="17" x2="12.01" y2="17"/>\n</svg> ',tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",(()=>t.execute("insertRhAlert"))),i;}));}_showModal(t={}){if(this._isModalVisible)return;const {mode:e="insert",alertElement:r,currentValues:i={}}=t;this._currentMode=e,this._currentAlertElement=r,setTimeout((()=>{const t=this.formView.element.querySelector("#insert-alert-btn"),r=this.formView.element.querySelector(".ck-form__header__label");"edit"===e?(t&&(t.textContent=this.editor.t("Update Alert")),r&&(r.textContent=this.editor.t("Edit Alert"))):(t&&(t.textContent=this.editor.t("Insert Alert")),r&&(r.textContent=this.editor.t("Insert Alert")));}),0),"edit"===e&&i?setTimeout((()=>{this._setFieldValue("#alert-title",i.title||""),this._setFieldValue("#alert-description",i.description||""),this._setFieldValue("#alert-state",i.state||""),this._setFieldValue("#alert-confirm-button-text",i.confirmButtonText||""),this._setFieldValue("#alert-dismiss-button-text",i.dismissButtonText||"");}),0):setTimeout((()=>{this._clearFormValues();}),0);const n=this.editor.plugins.get(o.ContextualBalloon);n.hasView(this.formView)||n.add({view:this.formView,position:{target:this.editor.ui.view.element}}),this._isModalVisible=!0,setTimeout((()=>{this._focusFirstField();}),10);}_hideModal(){if(!this._isModalVisible)return;const t=this.editor.plugins.get(o.ContextualBalloon);t.hasView(this.formView)&&t.remove(this.formView),this._isModalVisible=!1,this._clickOutsideHandler&&(this._clickOutsideHandler(),this._clickOutsideHandler=null),this.editor.editing.view.focus();}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document.selection;return {target:()=>t.domConverter.viewRangeToDom(e.getFirstRange())};}_handleClickOutside(){if(this._clickOutsideHandler)return;const t=this.editor.plugins.get(o.ContextualBalloon);this._clickOutsideHandler=(0,o.clickOutsideHandler)({emitter:this.formView,activator:()=>t.hasView(this.formView),contextElements:[t.view.element],callback:()=>this._hideModal()});}_clearFormValues(){try{const t=this.formView.element.querySelector("#alert-title"),e=this.formView.element.querySelector("#alert-description"),r=this.formView.element.querySelector("#alert-state"),i=this.formView.element.querySelector("#alert-confirm-button-text"),n=this.formView.element.querySelector("#alert-dismiss-button-text");t&&(t.value=""),e&&(e.value=""),r&&(r.value="",r.selectedIndex=0),i&&(i.value=""),n&&(n.value="");}catch(t){console.warn("Error clearing form values:",t);}}_focusFirstField(){try{const t=this.formView.element.querySelector("#alert-title");t&&t.focus();}catch(t){console.warn("Error focusing first field:",t);}}_getFieldValue(t){try{const e=this.formView.element.querySelector(t);return e&&e.value||"";}catch(t){return console.warn("Error getting field value:",t),"";}}_setFieldValue(t,e){try{const r=this.formView.element.querySelector(t);r&&(r.value=e);}catch(t){console.warn("Error setting field value:",t);}}_updateAlert(t,e){const {model:r}=this.editor,{title:i,description:n,state:s,confirmButtonText:l,dismissButtonText:o}=e;r.change(((e)=>{e.setAttribute("state",s,t),this._updateAlertTitle(e,t,i),this._updateAlertDescription(e,t,n),this._removeExistingButtons(e,t),this._addNewButtons(e,t,{confirmButtonText:l,dismissButtonText:o});}));}_updateAlertTitle(t,e,r){const i=e.getChild(0);i&&(t.remove(t.createRange(t.createPositionAt(i,0),t.createPositionAt(i,"end"))),t.insertText(r||"Alert Title",i));}_updateAlertDescription(t,e,r){const i=e.getChild(1);if(i)if(t.remove(t.createRange(t.createPositionAt(i,0),t.createPositionAt(i,"end"))),r){const e=t.createElement("paragraph");t.insertText(r,e),t.append(e,i);}else t.appendElement("paragraph",i);}_removeExistingButtons(t,e){const r=[];for(const t of e.getChildren())"rhAlertConfirmButton"!==t.name&&"rhAlertDismissButton"!==t.name||r.push(t);r.forEach(((e)=>t.remove(e)));}_addNewButtons(t,e,{confirmButtonText:r,dismissButtonText:i}){this._createButtonElement(t,e,"rhAlertConfirmButton",r),this._createButtonElement(t,e,"rhAlertDismissButton",i);}_createButtonElement(t,e,r,i){if(!i)return;const n=t.createElement(r);t.insertText(i,n),t.append(n,e);}}class c extends t.Plugin{static get requires(){return [l,a];}}const d={RhAlert:c};})(),i=i.default;})()));;
(function($,Drupal){Drupal.theme.progressBar=function(id){const escapedId=Drupal.checkPlain(id);return (`<div id="${escapedId}" class="progress" aria-live="polite">`+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>');};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').each(function(){this.style.width=`${percentage}%`;});$(this.element).find('div.progress__percentage').html(`${percentage}%`);}$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback)this.updateCallback(percentage,message,this);},startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing(){if(this.timer)clearTimeout(this.timer);if(this.uri){const pb=this;let uri=this.uri;if(!uri.includes('?'))uri+='?';else uri+='&';uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success(progress){if(progress.status===0){pb.displayError(progress.data);return;}pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(()=>{pb.sendPing();},pb.delay);},error(xmlhttp){const e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError(`<pre>${e.message}</pre>`);}});}},displayError(string){const error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this);}});})(jQuery,Drupal);;
/* @license MIT https://raw.githubusercontent.com/muicss/loadjs/4.3.0/LICENSE.txt */
loadjs=function(){var h=function(){},o={},c={},f={};function u(e,n){if(e){var t=f[e];if(c[e]=n,t)for(;t.length;)t[0](e,n),t.splice(0,1)}}function l(e,n){e.call&&(e={success:e}),n.length?(e.error||h)(n):(e.success||h)(e)}function p(t,r,i,s){var o,e,u,n=document,c=i.async,f=(i.numRetries||0)+1,l=i.before||h,a=t.replace(/[\?|#].*$/,""),d=t.replace(/^(css|img|module|nomodule)!/,"");if(s=s||0,/(^css!|\.css$)/.test(a))(u=n.createElement("link")).rel="stylesheet",u.href=d,(o="hideFocus"in u)&&u.relList&&(o=0,u.rel="preload",u.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(a))(u=n.createElement("img")).src=d;else if((u=n.createElement("script")).src=d,u.async=void 0===c||c,e="noModule"in u,/^module!/.test(a)){if(!e)return r(t,"l");u.type="module"}else if(/^nomodule!/.test(a)&&e)return r(t,"l");!(u.onload=u.onerror=u.onbeforeload=function(e){var n=e.type[0];if(o)try{u.sheet.cssText.length||(n="e")}catch(e){18!=e.code&&(n="e")}if("e"==n){if((s+=1)<f)return p(t,r,i,s)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";r(t,n,e.defaultPrevented)})!==l(t,u)&&n.head.appendChild(u)}function t(e,n,t){var r,i;if(n&&n.trim&&(r=n),i=(r?t:n)||{},r){if(r in o)throw"LoadJS";o[r]=!0}function s(n,t){!function(e,r,n){var t,i,s=(e=e.push?e:[e]).length,o=s,u=[];for(t=function(e,n,t){if("e"==n&&u.push(e),"b"==n){if(!t)return;u.push(e)}--s||r(u)},i=0;i<o;i++)p(e[i],t,n)}(e,function(e){l(i,e),n&&l({success:n,error:t},e),u(r,e)},i)}if(i.returnPromise)return new Promise(s);s()}return t.ready=function(e,n){return function(e,t){e=e.push?e:[e];var n,r,i,s=[],o=e.length,u=o;for(n=function(e,n){n.length&&s.push(e),--u||t(s)};o--;)r=e[o],(i=c[r])?n(r,i):(f[r]=f[r]||[]).push(n)}(e,function(e){l(n,e)}),t},t.done=function(e){u(e,[])},t.reset=function(){o={},c={},f={}},t.isDefined=function(e){return e in o},t}();;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
Drupal.debounce=function(func,wait,immediate){let timeout;let result;return function(...args){const context=this;const later=function(){timeout=null;if(!immediate)result=func.apply(context,args);};const callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)result=func.apply(context,args);return result;};};;
(function(Drupal,debounce){let liveElement;const announcements=[];Drupal.behaviors.drupalAnnounce={attach(context){if(!liveElement){liveElement=document.createElement('div');liveElement.id='drupal-live-announce';liveElement.className='visually-hidden';liveElement.setAttribute('aria-live','polite');liveElement.setAttribute('aria-busy','false');document.body.appendChild(liveElement);}}};function announce(){const text=[];let priority='polite';let announcement;const il=announcements.length;for(let i=0;i<il;i++){announcement=announcements.pop();text.unshift(announcement.text);if(announcement.priority==='assertive')priority='assertive';}if(text.length){liveElement.innerHTML='';liveElement.setAttribute('aria-busy','true');liveElement.setAttribute('aria-live',priority);liveElement.innerHTML=text.join('\n');liveElement.setAttribute('aria-busy','false');}}Drupal.announce=function(text,priority){announcements.push({text,priority});return debounce(announce,200)();};})(Drupal,Drupal.debounce);;
((Drupal)=>{Drupal.Message=class{constructor(messageWrapper=null){if(!messageWrapper)this.messageWrapper=Drupal.Message.defaultWrapper();else this.messageWrapper=messageWrapper;}static defaultWrapper(){let wrapper=document.querySelector('[data-drupal-messages]')||document.querySelector('[data-drupal-messages-fallback]');if(!wrapper){wrapper=document.createElement('div');document.body.appendChild(wrapper);}if(wrapper.hasAttribute('data-drupal-messages-fallback')){wrapper.removeAttribute('data-drupal-messages-fallback');wrapper.classList.remove('hidden');}wrapper.setAttribute('data-drupal-messages','');return wrapper.innerHTML===''?Drupal.Message.messageInternalWrapper(wrapper):wrapper.firstElementChild;}static getMessageTypeLabels(){return {status:Drupal.t('Status message'),error:Drupal.t('Error message'),warning:Drupal.t('Warning message')};}add(message,options={}){if(!options.hasOwnProperty('type'))options.type='status';if(typeof message!=='string')throw new Error('Message must be a string.');Drupal.Message.announce(message,options);options.id=options.id?String(options.id):`${options.type}-${Math.random().toFixed(15).replace('0.','')}`;if(!Drupal.Message.getMessageTypeLabels().hasOwnProperty(options.type)){const {type}=options;throw new Error(`The message type, ${type}, is not present in Drupal.Message.getMessageTypeLabels().`);}this.messageWrapper.appendChild(Drupal.theme('message',{text:message},options));return options.id;}select(id){return this.messageWrapper.querySelector(`[data-drupal-message-id^="${id}"]`);}remove(id){return this.messageWrapper.removeChild(this.select(id));}clear(){Array.prototype.forEach.call(this.messageWrapper.querySelectorAll('[data-drupal-message-id]'),(message)=>{this.messageWrapper.removeChild(message);});}static announce(message,options){if(!options.priority&&(options.type==='warning'||options.type==='error'))options.priority='assertive';if(options.announce!=='')Drupal.announce(options.announce||message,options.priority);}static messageInternalWrapper(messageWrapper){const innerWrapper=document.createElement('div');innerWrapper.setAttribute('class','messages__wrapper');messageWrapper.insertAdjacentElement('afterbegin',innerWrapper);return innerWrapper;}};Drupal.theme.message=({text},{type,id})=>{const messagesTypes=Drupal.Message.getMessageTypeLabels();const messageWrapper=document.createElement('div');messageWrapper.setAttribute('class',`messages messages--${type}`);messageWrapper.setAttribute('role',type==='error'||type==='warning'?'alert':'status');messageWrapper.setAttribute('data-drupal-message-id',id);messageWrapper.setAttribute('data-drupal-message-type',type);messageWrapper.setAttribute('aria-label',messagesTypes[type]);messageWrapper.innerHTML=`${text}`;return messageWrapper;};})(Drupal);;
(function($,window,Drupal,drupalSettings,loadjs,{isFocusable,tabbable}){Drupal.behaviors.AJAX={attach(context,settings){function loadAjaxBehavior(base){const elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined')elementSettings.selector=`#${base}`;once('drupal-ajax',$(elementSettings.selector)).forEach((el)=>{elementSettings.element=el;elementSettings.base=base;Drupal.ajax(elementSettings);});}Object.keys(settings.ajax||{}).forEach(loadAjaxBehavior);Drupal.ajax.bindAjaxLinks(document.body);once('ajax','.use-ajax-submit').forEach((el)=>{const elementSettings={};elementSettings.url=$(el.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=el.id;elementSettings.element=el;Drupal.ajax(elementSettings);});},detach(context,settings,trigger){if(trigger==='unload')Drupal.ajax.expired().forEach((instance)=>{Drupal.ajax.instances[instance.instanceIndex]=null;});}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){let statusCode;let statusText;let responseText;if(xmlhttp.status)statusCode=`\n${Drupal.t('An AJAX HTTP error occurred.')}\n${Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status})}`;else statusCode=`\n${Drupal.t('An AJAX HTTP request terminated abnormally.')}`;statusCode+=`\n${Drupal.t('Debugging information follows.')}`;const pathText=`\n${Drupal.t('Path: !uri',{'!uri':uri})}`;statusText='';try{statusText=`\n${Drupal.t('StatusText: !statusText',{'!statusText':xmlhttp.statusText.trim()})}`;}catch(e){}responseText='';try{responseText=`\n${Drupal.t('ResponseText: !responseText',{'!responseText':xmlhttp.responseText.trim()})}`;}catch(e){}responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');const readyStateText=xmlhttp.status===0?`\n${Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState})}`:'';customMessage=customMessage?`\n${Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage})}`:'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';if(!Drupal.AjaxError.messages)Drupal.AjaxError.messages=new Drupal.Message();Drupal.AjaxError.messages.add(Drupal.t("Oops, something went wrong. Check your browser's developer console for more details."),{type:'error'});};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1)throw new Error('Drupal.ajax() function must be called with one configuration object only');const base=settings.base||false;const element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element)settings.progress=false;const ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter((instance)=>instance&&instance.element!==false&&!document.body.contains(instance.element));};Drupal.ajax.bindAjaxLinks=(element)=>{once('ajax','.use-ajax',element).forEach((ajaxLink)=>{const $linkElement=$(ajaxLink);const elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};const href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}const httpMethod=$linkElement.data('ajax-http-method');if(httpMethod)elementSettings.httpMethod=httpMethod;Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){const defaults={httpMethod:'POST',event:element?'mousedown':null,keypress:true,selector:base?`#${base}`:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Processing...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper)this.wrapper=`#${this.wrapper}`;this.element=element;this.preCommandsFocusedElementSelector=null;this.elementSettings=elementSettings;if(this.element&&this.element.form)this.$form=$(this.element.form);if(!this.url){const $element=$(this.element);if(this.element.tagName==='A')this.url=$element.attr('href');else{if(this.element&&element.form)this.url=this.$form.attr('action');}}const originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl])drupalSettings.ajaxTrustedUrl[this.url]=true;const ajax=this;ajax.options={url:ajax.url,data:ajax.submit,isInProgress(){return ajax.ajaxing;},beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;ajax.preCommandsFocusedElementSelector=null;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success(response,status,xmlhttprequest){ajax.preCommandsFocusedElementSelector=document.activeElement.getAttribute('data-drupal-selector');if(typeof response==='string')response=$.parseJSON(response);if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url])if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){const customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}return (Promise.resolve(ajax.success(response,status)).then(()=>{ajax.ajaxing=false;$(document).trigger('ajaxSuccess',[xmlhttprequest,this]);$(document).trigger('ajaxComplete',[xmlhttprequest,this]);if(--$.active===0)$(document).trigger('ajaxStop');}));},error(xmlhttprequest,status,error){ajax.ajaxing=false;},complete(xmlhttprequest,status){if(status==='error'||status==='parsererror')return ajax.error(xmlhttprequest,ajax.url);},dataType:'json',jsonp:false,method:ajax.httpMethod};if(elementSettings.dialog)ajax.options.data.dialogOptions=elementSettings.dialog;if(!ajax.options.url.includes('?'))ajax.options.url+='?';else ajax.options.url+='&';let wrapper=`drupal_${elementSettings.dialogType||'ajax'}`;if(elementSettings.dialogRenderer)wrapper+=`.${elementSettings.dialogRenderer}`;ajax.options.url+=`${Drupal.ajax.WRAPPER_FORMAT}=${wrapper}`;$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url))throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));if(!$(ajax.element).attr('formnovalidate')){const formValidationEvent=$.Event('drupalAjaxFormValidate');$(event.target).trigger(formValidationEvent);if(formValidationEvent.result===false){event.preventDefault();return false;}}return ajax.eventResponse(this,event);});if(elementSettings.keypress)$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});if(elementSettings.prevent)$(ajax.element).on(elementSettings.prevent,false);};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing)return;try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert(`An error occurred while attempting to process ${this.options.url}: ${e.message}`);return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){const ajax=this;if(event.which===13||(event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number')){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();const ajax=this;if(ajax.ajaxing)return;try{if(ajax.$form){if(ajax.setClick)element.form.clk=element;ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert(`An error occurred while attempting to process ${ajax.options.url}: ${e.message}`);}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;const pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';const v=$.fieldValue(this.element);if(v!==null)options.extraData[this.element.name]=v;}$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type)return;const progressIndicatorMethod=`setProgressIndicator${this.progress.type.slice(0,1).toUpperCase()}${this.progress.type.slice(1).toLowerCase()}`;if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function')this[progressIndicatorMethod].call(this);};Drupal.theme.ajaxProgressThrobber=(message)=>{const messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';const throbber='<div class="throbber">&nbsp;</div>';return `<div class="ajax-progress ajax-progress-throbber">${throbber}${messageMarkup}</div>`;};Drupal.theme.ajaxProgressIndicatorFullscreen=()=>'<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';Drupal.theme.ajaxProgressMessage=(message)=>`<div class="message">${message}</div>`;Drupal.theme.ajaxProgressBar=($element)=>$('<div class="ajax-progress ajax-progress-bar"></div>').append($element);Drupal.Ajax.prototype.setProgressIndicatorBar=function(){const progressBar=new Drupal.ProgressBar(`ajax-progress-${this.element.id}`,$.noop,this.progress.method,$.noop);if(this.progress.message)progressBar.setProgress(-1,this.progress.message);if(this.progress.url)progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));if($(this.element).closest('[data-drupal-ajax-container]').length)$(this.element).closest('[data-drupal-ajax-container]').after(this.progress.element);else $(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.commandExecutionQueue=function(response,status){const ajaxCommands=this.commands;return Object.keys(response||{}).reduce((executionQueue,key)=>executionQueue.then(()=>{const {command}=response[key];if(command&&ajaxCommands[command])return ajaxCommands[command](this,response[key],status);}),Promise.resolve());};Drupal.Ajax.prototype.success=function(response,status){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.element).prop('disabled',false);const elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();const focusChanged=Object.keys(response||{}).some((key)=>{const {command,method}=response[key];return (command==='focusFirst'||command==='openDialog'||(command==='invoke'&&method==='focus'));});return (this.commandExecutionQueue(response,status).then(()=>{if(!focusChanged){let target=false;if(this.element){if($(this.element).data('refocus-blur')&&this.preCommandsFocusedElementSelector)target=document.querySelector(`[data-drupal-selector="${this.preCommandsFocusedElementSelector}"]`);if(!target&&!$(this.element).data('disable-refocus')){for(let n=elementParents.length-1;!target&&n>=0;n--)target=document.querySelector(`[data-drupal-selector="${elementParents[n].getAttribute('data-drupal-selector')}"]`);}}if(target)$(target).trigger('focus');}if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}this.settings=null;}).catch((error)=>console.error(Drupal.t('An error occurred during the execution of the Ajax response: !error',{'!error':error}))));};Drupal.Ajax.prototype.getEffect=function(response){const type=response.effect||this.effect;const speed=response.speed||this.speed;const effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=`${type}Toggle`;effect.hideEffect=`${type}Toggle`;effect.showSpeed=speed;}return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=($newContent,ajax,response)=>(response.effect||ajax.effect)!=='none'&&$newContent.filter((i)=>!(($newContent[i].nodeName==='#comment'||($newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent))))).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;Drupal.theme.ajaxWrapperMultipleRootElements=($elements)=>$('<div></div>').append($elements);Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert(ajax,response){const $wrapper=response.selector?$(response.selector):$(ajax.wrapper);const method=response.method||ajax.method;const effect=ajax.getEffect(response);const settings=response.settings||ajax.settings||drupalSettings;const parseHTML=(htmlString)=>{const fragment=document.createDocumentFragment();const tempDiv=fragment.appendChild(document.createElement('div'));tempDiv.innerHTML=htmlString;return tempDiv.childNodes;};let $newContent=$(parseHTML(response.data));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}$wrapper[method]($newContent);if(effect.showEffect!=='show')$newContent.hide();const $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else{if(effect.showEffect!=='show')$newContent[effect.showEffect](effect.showSpeed);}$newContent.each((index,element)=>{if(element.nodeType===Node.ELEMENT_NODE&&document.documentElement.contains(element))Drupal.attachBehaviors(element,settings);});},remove(ajax,response,status){const settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed(ajax,response,status){const $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk)$element.find(response.asterisk).append(` <abbr class="ajax-changed" title="${Drupal.t('Changed')}">*</abbr> `);}},alert(ajax,response,status){window.alert(response.text);},announce(ajax,response){if(response.priority)Drupal.announce(response.text,response.priority);else Drupal.announce(response.text);},redirect(ajax,response,status){window.location=response.url;},css(ajax,response,status){$(response.selector).css(response.argument);},settings(ajax,response,status){const ajaxSettings=drupalSettings.ajax;if(ajaxSettings)Drupal.ajax.expired().forEach((instance)=>{if(instance.selector){const selector=instance.selector.replace('#','');if(selector in ajaxSettings)delete ajaxSettings[selector];}});if(response.merge)$.extend(true,drupalSettings,response.settings);else ajax.settings=response.settings;},data(ajax,response,status){$(response.selector).data(response.name,response.value);},focusFirst(ajax,response,status){let focusChanged=false;const container=document.querySelector(response.selector);if(container){const tabbableElements=tabbable(container);if(tabbableElements.length){tabbableElements[0].focus();focusChanged=true;}else{if(isFocusable(container)){container.focus();focusChanged=true;}}}if(ajax.hasOwnProperty('element')&&!focusChanged)ajax.element.focus();},invoke(ajax,response,status){const $element=$(response.selector);$element[response.method](...response.args);},restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id(ajax,response,status){document.querySelectorAll(`input[name="form_build_id"][value="${response.old}"]`).forEach((item)=>{item.value=response.new;});},add_css(ajax,response,status){if(typeof response.data==='string'){Drupal.deprecationError({message:'Passing a string to the Drupal.ajax.add_css() method is deprecated in 10.1.0 and is removed from drupal:11.0.0. See https://www.drupal.org/node/3154948.'});$('head').prepend(response.data);return;}const allUniqueBundleIds=response.data.map(function(style){const uniqueBundleId=style.href;if(!loadjs.isDefined(uniqueBundleId))loadjs(`css!${style.href}`,uniqueBundleId,{before(path,styleEl){Object.keys(style).forEach((attributeKey)=>{styleEl.setAttribute(attributeKey,style[attributeKey]);});}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},message(ajax,response){const messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious)messages.clear();messages.add(response.message,response.messageOptions);},add_js(ajax,response,status){const parentEl=document.querySelector(response.selector||'body');const settings=ajax.settings||drupalSettings;const allUniqueBundleIds=response.data.map((script)=>{const uniqueBundleId=script.src;if(!loadjs.isDefined(uniqueBundleId))loadjs(script.src,uniqueBundleId,{async:false,before(path,scriptEl){Object.keys(script).forEach((attributeKey)=>{scriptEl.setAttribute(attributeKey,script[attributeKey]);});parentEl.appendChild(scriptEl);return false;}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){Drupal.attachBehaviors(parentEl,settings);resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},scrollTop(ajax,response){const offset=$(response.selector).offset();let scrollTarget=response.selector;while($(scrollTarget).scrollTop()===0&&$(scrollTarget).parent())scrollTarget=$(scrollTarget).parent();if(offset.top-10<$(scrollTarget).scrollTop())scrollTarget.get(0).scrollTo({top:offset.top-10,behavior:'smooth'});}};const stopEvent=(xhr,settings)=>{return (xhr.getResponseHeader('X-Drupal-Ajax-Token')==='1'&&settings.isInProgress&&settings.isInProgress());};$.extend(true,$.event.special,{ajaxSuccess:{trigger(event,xhr,settings){if(stopEvent(xhr,settings))return false;}},ajaxComplete:{trigger(event,xhr,settings){if(stopEvent(xhr,settings)){$.active++;return false;}}}});})(jQuery,window,Drupal,drupalSettings,loadjs,window.tabbable);;
(function(Drupal){Drupal.theme.ajaxProgressBar=function($element){return $element.addClass('ajax-progress ajax-progress-bar');};})(Drupal);;
(function($,Drupal){Drupal.AjaxCommands.prototype.resetFeedbackForm=function(ajax,response,status){$('#rh-feedback-form').trigger('reset');};Drupal.behaviors.rhd_feedback_modal={attach:function(context,settings){let fromRoute="/report_a_website_issue";let currentUrl=window.location.href;if(currentUrl.indexOf(fromRoute)===-1)$(`[href="${fromRoute}"]`).click(function(e){e.preventDefault();let targetModal=document.querySelector("pfe-modal");if(targetModal){targetModal.open();targetModal.addEventListener("pfe-modal:close",()=>{$(".result_message").empty();});}});$(context).on("drupalAjaxFormValidate",(event)=>{const form=$(event.target).closest("form")[0];if(form){var form_id=form.id;if(form.id==="rh-feedback-form"&&!form.checkValidity()){form.reportValidity();return false;}}return true;});}};})(jQuery,Drupal);;
